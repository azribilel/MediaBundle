{% block lch_add_media_image_widget %}
    {% set rand = random() %}
    {% spaceless %}
        <div id="image-{{ rand }}">
            <label>{{ form.vars.label|trans }}</label>
            <div>
                <div id="imageThumb">
                    {% if value is not empty %}
                        {{ image(value, 50, 50) }}
                    {% endif %}
                </div>
                <input type="hidden" {{ block('widget_attributes') }} {% if value is not empty %}value="{{ value.id }}" {% endif %}/>
                <p id="displayImageName-{{rand}}">{% if value %}{{value.name}}{% endif %}</p>
            </div>
            <button type="button" class="btn btn-default" data-toggle="modal" data-target="#image-modal-{{ rand }}">
                {% if value is not empty %}
                    {{ 'app.modify'|trans }}
                {% else %}
                    {{ 'app.add'|trans }}
                {% endif %}

            </button>
        </div>

        <div
                class="modal fade"
                id="image-modal-{{ rand }}"
                tabindex="-1"
                role="dialog"
                aria-labelledby="myModalLabel"
                data-route="{{ form.vars['attr']['form_route'] }}"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="myModalLabel">{{ form.vars['attr']['modal_title']|trans }}</h4>
                    </div>
                    <div class="modal-body">

                    </div>
                </div>
            </div>
        </div>
    {% endspaceless %}
{% endblock %}